<div class="container mt-5">
  <h3>Acción de grupo</h3>
  <p>
    La acción de grupo o de clase es un mecanismo constitucional de defensa
    judicial, interpuesta por un número plural o un conjunto de personas que
    reúnen condiciones uniformes respeto de una misma causa que originó un
    perjuicio o daño individual y, pretende el pago de una indemnización por los
    daños causados. En lugar de presentar múltiples demandas individuales, los
    miembros del grupo se agrupan en una sola demanda para buscar la reparación
    por los daños sufridos. ¿A quien va dirigida la acción? Puede ser contra una
    autoridad pública, un particular o contra los dos. Hay que dejar la opción
    para seleccionar los dos. Cuando es contra autoridad pública, se presenta
    ante Juez administrativo circuito (reparto) Cuando es contra un particular,
    se presenta ante Juez Civil Circuito (reparto) Cuando se demandan los dos
    (autoridad pública y particular) se presenta ante Juez administrativo
    circuito
  </p>

  <form [formGroup]="AccionDeGrupo" (ngSubmit)="onSubmit()">
    <!-- Numeral 1-->
    <div class="d-flex align-items-start mt-5">
      <div
        class="rounded-circle bg-primary text-white p-1 mr-2 d-flex align-items-center justify-content-center"
        style="width: 25px; height: 25px"
      >
        <strong>1</strong>
      </div>
      <div class="form-group">
        <!-- Label: ¿A quién va dirigida esta acción de grupo? -->
        <label class="text-primary" for="destinatario">
          <strong>Datos del demandado</strong>
        </label>
        <div id="destinatarioHelpBlock" class="form-text">
          Seleccion la opcion segun a quien vaya diriga la accion de grupo
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="ciudad"
        ><strong>¿A quién va dirigida esta acción de grupo?</strong> -</label
      >
      <label class="text-primary"><strong>(requerido)</strong></label>
      <div id="destinatarioHelpBlock" class="form-text" style="font-size: 14px">
        Cuando es contra <strong>autoridad pública</strong>, se presenta ante
        <strong>Juez administrativo circuito (reparto).</strong> Cuando es
        contra un <strong>particular</strong>, se presenta ante
        <strong>Juez Civil Circuito (reparto).</strong> Cuando se demandan los
        dos (autoridad pública y particular) se presenta ante
        <strong>Juez administrativo circuito.</strong>
      </div>
      <div class="form-check">
        <input
          class="form-check-input"
          type="radio"
          formControlName="dirigido"
          value="Juez administrativo circuito (reparto)"
        />
        <label class="form-check-label" for="flexRadioDefault1">
          Juez administrativo circuito (reparto)
        </label>
      </div>
      <div class="form-check">
        <input
          class="form-check-input"
          type="radio"
          formControlName="dirigido"
          value="Juez Civil Circuito (reparto)"
        />
        <label class="form-check-label" for="flexRadioDefault2">
          Juez Civil Circuito (reparto)
        </label>
      </div>

      <div class="form-check">
        <input
          class="form-check-input"
          type="radio"
          formControlName="dirigido"
          value="Juez administrativo circuito"
        />
        <label class="form-check-label" for="flexRadioDefault3">
          Juez administrativo circuito
        </label>
      </div>
    </div>

    <div class="row">
      <!-- Input para la Ciudad -->
      <div class="col-md-6">
        <div class="form-group">
          <label for="ciudad"><strong>Ciudad</strong> -</label>
          <label class="text-primary"><strong>(requerido)</strong></label>
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              formControlName="ciudad"
              id="ciudad"
              placeholder="Ingresa la ciudad"
              [class.is-invalid]="
                AccionDeGrupo.get('ciudad')?.invalid &&
                AccionDeGrupo.get('ciudad')?.touched
              "
              required
            />
            <!-- Icono de alerta y mensaje de ayuda -->
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="La ciudad de quien escribe y la fecha en la que se escribe dejan constancia del lugar y la fecha en la que se firma."
            >
              <i
                class="fas fa-exclamation-circle text-white"
                style="width: 25px; height: 25px"
              ></i>
            </button>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('ciudad')?.invalid &&
              AccionDeGrupo.get('ciudad')?.touched
            "
            class="text-danger"
          >
            La ciudad es obligatoria
          </small>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label for="entidadDemandada"
            ><strong>Entidad a la que demanda</strong>-</label
          ><label class="text-primary"><strong>(requerido)</strong></label>
          <!-- Icono de alerta y mensaje de ayuda -->
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              formControlName="entidadDemandada"
              id="entidadDemandada"
              placeholder="Entidad a la que demanda"
              [class.is-invalid]="
                AccionDeGrupo.get('entidadDemandada')?.invalid &&
                AccionDeGrupo.get('entidadDemandada')?.touched
              "
            />
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="Al ser una persona ingrese los nombres y apellidos, si es una empresa su respectivo nombre."
            >
              <i
                class="fas fa-exclamation-circle text-white"
                style="width: 25px; height: 25px"
              ></i>
            </button>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('entidadDemandada')?.invalid &&
              AccionDeGrupo.get('entidadDemandada')?.touched
            "
            class="text-danger"
          >
            El nombre del demandado es obligatorio
          </small>
        </div>
      </div>
    </div>

    <div class="form-group mt-2">
      <label for="representanteEntidad">
        <strong>Representante legal de la entidad demandada</strong> -
      </label>
      <label class="text-primary"><strong>(requerido)</strong></label>
      <!-- Icono de alerta y mensaje de ayuda -->
      <div class="input-group">
        <input
          type="text"
          class="form-control"
          formControlName="representanteEntidad"
          id="representanteEntidad"
          placeholder="Representante legal de la entidad demandada"
          [class.is-invalid]="
            AccionDeGrupo.get('representanteEntidad')?.invalid &&
            AccionDeGrupo.get('representanteEntidad')?.touched
          "
        />
        <button
          type="button"
          class="btn btn-primary"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          data-bs-custom-class="custom-tooltip"
          data-bs-title="Nombre del representante legal de la entidad demandada"
        >
          <i
            class="fas fa-exclamation-circle text-white"
            style="width: 25px; height: 25px"
          ></i>
        </button>
      </div>
      <small
        *ngIf="
          AccionDeGrupo.get('representanteEntidad')?.invalid &&
          AccionDeGrupo.get('representanteEntidad')?.touched
        "
        class="text-danger"
      >
        El nombre del representante de la entidad es obligatorio
      </small>
    </div>

        <div class="form-group mt-2">
          <label for="ciudad"><strong>¿Por que se demanda?</strong> -</label>
          <label class="text-primary"><strong>(requerido)</strong></label>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              formControlName="razonDemanda"
              value="acciones"
            />
            <label class="form-check-label" for="flexRadioDefault1">
              Por acciones
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              formControlName="razonDemanda"
              value="omisiones"
            />
            <label class="form-check-label" for="flexRadioDefault2">
              Por omisiones
            </label>
          </div>
        </div>
      

    <div class="d-flex align-items-start mt-5">
      <div
        class="rounded-circle bg-primary text-white p-1 mr-2 d-flex align-items-center justify-content-center"
        style="width: 25px; height: 25px"
      >
        <strong>2</strong>
      </div>
      <div class="form-group">
        <!-- Label: ¿A quién va dirigida esta acción de grupo? -->
        <label class="text-primary" for="destinatario">
          <strong>Datos del demandante</strong>
        </label>
        <div id="destinatarioHelpBlock" class="form-text">
          Seleccion la opcion segun los daos del abogado demandante
        </div>
      </div>
    </div>

    <div class="row">
      <!-- Input para la Ciudad -->
      <div class="col-md-6">
        <div class="form-group">
          <label for="ciudad"><strong>Nombre del demandante</strong> -</label>
          <label class="text-primary"><strong>(requerido)</strong></label>
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              formControlName="nombreDemandante"
              id="nombre"
              placeholder="nombre de la persona que demanda"
              [class.is-invalid]="
                AccionDeGrupo.get('nombreDemandante')?.invalid &&
                AccionDeGrupo.get('nombreDemandante')?.touched
              "
              required
            />
            <!-- Icono de alerta y mensaje de ayuda -->
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="Nombre de la persona que realiza la accion de grupo."
            >
              <i
                class="fas fa-exclamation-circle text-white"
                style="width: 25px; height: 25px"
              ></i>
            </button>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('nombreDemandante')?.invalid &&
              AccionDeGrupo.get('nombreDemandante')?.touched
            "
            class="text-danger"
          >
            La ciudad es obligatoria
          </small>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label for="nombreDemandado"
            ><strong>Nombre del abogado</strong>-</label
          ><label class="text-primary"><strong>(requerido)</strong></label>
          <!-- Icono de alerta y mensaje de ayuda -->
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              formControlName="nombreAbogado"
              id="nombreAbogado"
              placeholder="Nombre de el abogado responsable de la accion de grupo"
              [class.is-invalid]="
                AccionDeGrupo.get('nombreAbogado')?.invalid &&
                AccionDeGrupo.get('nombreAbogado')?.touched
              "
            />
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="Nombre del abogado que respalda la accion de grupo"
            >
              <i
                class="fas fa-exclamation-circle text-white"
                style="width: 25px; height: 25px"
              ></i>
            </button>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('nombreAbogado')?.invalid &&
              AccionDeGrupo.get('nombreAbogado')?.touched
            "
            class="text-danger"
          >
            El nombre del abogado es obligatorio
          </small>
        </div>
      </div>
    </div>

    <div class="row">
      <!-- Input para la Ciudad -->
      <div class="col-md-6">
        <div class="form-group">
          <label for="ciudad"><strong>Ciudad</strong> -</label>
          <label class="text-primary"><strong>(requerido)</strong></label>
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              formControlName="ciudadAbogado"
              id="ciudadAbogado"
              placeholder="ciudad del abogado."
              [class.is-invalid]="
                AccionDeGrupo.get('ciudadAbogado')?.invalid &&
                AccionDeGrupo.get('ciudadAbogado')?.touched
              "
              required
            />
            <!-- Icono de alerta y mensaje de ayuda -->
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="Ciudad donde reside el abogado responsable de la accion de grupo."
            >
              <i
                class="fas fa-exclamation-circle text-white"
                style="width: 25px; height: 25px"
              ></i>
            </button>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('ciudadAbogado')?.invalid &&
              AccionDeGrupo.get('ciudadAbogado')?.touched
            "
            class="text-danger"
          >
            La ciudad del abogado es obligatoria
          </small>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label for="nombreDemandado"><strong>Cedula</strong>-</label
          ><label class="text-primary"><strong>(requerido)</strong></label>
          <!-- Icono de alerta y mensaje de ayuda -->
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              formControlName="cedulaAbogado"
              id="cedulaAbogado"
              placeholder="cedula del abogado"
              [class.is-invalid]="
                AccionDeGrupo.get('cedulaAbogado')?.invalid &&
                AccionDeGrupo.get('cedulaAbogado')?.touched
              "
            />
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="Cedula del abogado responsable de la accion de grupo"
            >
              <i
                class="fas fa-exclamation-circle text-white"
                style="width: 25px; height: 25px"
              ></i>
            </button>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('cedulaAbogado')?.invalid &&
              AccionDeGrupo.get('cedulaAbogado')?.touched
            "
            class="text-danger"
          >
            La ciudad del abogado es obligatorio
          </small>
        </div>
      </div>
    </div>

    <div class="row">
      <!-- Input para la Ciudad -->
      <div class="col-md-6">
        <div class="form-group">
          <label for="ciudad"><strong>Ciudad expedicion</strong> -</label>
          <label class="text-primary"><strong>(requerido)</strong></label>
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              formControlName="ciudadExpedicionAbogado"
              id="ciudadExpedicionAbogado"
              placeholder="ciudad del abogado."
              [class.is-invalid]="
                AccionDeGrupo.get('ciudadExpedicionAbogado')?.invalid &&
                AccionDeGrupo.get('ciudadExpedicionAbogado')?.touched
              "
              required
            />
            <!-- Icono de alerta y mensaje de ayuda -->
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="Ciudad donde se expidio la cedula."
            >
              <i
                class="fas fa-exclamation-circle text-white"
                style="width: 25px; height: 25px"
              ></i>
            </button>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('ciudadExpedicionAbogado')?.invalid &&
              AccionDeGrupo.get('ciudadExpedicionAbogado')?.touched
            "
            class="text-danger"
          >
            La ciudad de expedicion del abogado es obligatoria
          </small>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label for="nombreDemandado"
            ><strong>tarjeta profesional</strong>-</label
          ><label class="text-primary"><strong>(requerido)</strong></label>
          <!-- Icono de alerta y mensaje de ayuda -->
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              formControlName="tarjetaProfesional"
              id="tarjetaProfesional"
              placeholder="cedula del abogado"
              [class.is-invalid]="
                AccionDeGrupo.get('tarjetaProfesional')?.invalid &&
                AccionDeGrupo.get('tarjetaProfesional')?.touched
              "
            />
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="Numero de la tarjeta profesional"
            >
              <i
                class="fas fa-exclamation-circle text-white"
                style="width: 25px; height: 25px"
              ></i>
            </button>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('tarjetaProfesional')?.invalid &&
              AccionDeGrupo.get('tarjetaProfesional')?.touched
            "
            class="text-danger"
          >
            La tarjeta profesional abogado es obligatoria
          </small>
        </div>
      </div>
    </div>

    <div class="d-flex align-items-start mt-5">
      <div
        class="rounded-circle bg-primary text-white p-1 mr-2 d-flex align-items-center justify-content-center"
        style="width: 25px; height: 25px"
      >
        <strong>3</strong>
      </div>
      <div class="form-group">
        <!-- Label: ¿A quién va dirigida esta acción de grupo? -->
        <label class="text-primary" for="destinatario">
          <strong>Relacion de los demandantes</strong>
        </label>
        <div id="destinatarioHelpBlock" class="form-text">
          Rellene cada una de las personas involucradas, recuerde, son minimo 20
          personas
        </div>
        <div
          id="destinatarioHelpBlock"
          class="form-text"
          style="font-size: 18px"
        >
          Para agregar mas campos use el botón de
          <strong class="text-primary"> + </strong> para eliminar use
          <strong class="text-danger"> - </strong>
        </div>
      </div>
    </div>

    <ng-container
      formArrayName="demandantes"
      *ngFor="
        let row of demandantes.controls;
        index as i;
        first as isFirst;
        last as isLast
      "
      class="input-group"
    >
      <div class="row">
        <!-- Input para la Ciudad -->
        <div class="col-md-6 d-flex">
          <div
            class="rounded-circle bg-primary text-white p-1 mr-2 d-flex align-items-center justify-content-center"
            style="width: 25px; height: 25px"
          >
            <strong>{{ i + 1 }}</strong>
          </div>

          <div class="form-group w-100">
            <label for="ciudad"><strong>Nombre</strong> -</label>
            <label class="text-primary"><strong>(requerido)</strong></label>
            <div class="input-group" [formGroupName]="i">
              <input
                type="text"
                class="form-control"
                formControlName="nombre"
                id="nombre"
                placeholder="nombre del demandante."
                [class.is-invalid]="
                  AccionDeGrupo.get('nombre')?.invalid &&
                  AccionDeGrupo.get('nombre')?.touched
                "
                required
              />
              <!-- Icono de alerta y mensaje de ayuda -->
              <button
                type="button"
                class="btn btn-primary"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                data-bs-custom-class="custom-tooltip"
                data-bs-title="nombre de la persona."
              >
                <i
                  class="fas fa-exclamation-circle text-white"
                  style="width: 25px; height: 25px"
                ></i>
              </button>
            </div>

            <small
              *ngIf="
                AccionDeGrupo.get('nombre')?.invalid &&
                AccionDeGrupo.get('nombre')?.touched
              "
              class="text-danger"
            >
              El No de expedicion del abogado es obligatoria
            </small>
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-group">
            <label for="nombreDemandado"
              ><strong>Cédula de Ciudadanía</strong>-</label
            ><label class="text-primary"><strong>(requerido)</strong></label>
            <!-- Icono de alerta y mensaje de ayuda -->
            <div class="input-group" [formGroupName]="i">
              <input
                type="text"
                class="form-control"
                formControlName="cedula"
                id="tarjetaProfesional"
                placeholder="cedula del demandante"
                [class.is-invalid]="
                  AccionDeGrupo.get('cedula')?.invalid &&
                  AccionDeGrupo.get('cedula')?.touched
                "
              />
              <button
                type="button"
                class="btn btn-primary"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                data-bs-custom-class="custom-tooltip"
                data-bs-title="cedula"
              >
                <i
                  class="fas fa-exclamation-circle text-white"
                  style="width: 25px; height: 25px"
                ></i>
              </button>

              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para agregar un nuevo campo -->
                <button
                  type="button"
                  class="btn btn-primary mt-2"
                  (click)="agregarDemandante()"
                >
                  <i class="fas fa-plus"></i>
                </button>
              </div>

              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para eliminar un campo -->
                <button
                  type="button"
                  class="btn btn-danger mt-2"
                  (click)="eliminarDemandante()"
                >
                  <i class="fas fa-minus"></i>
                </button>
              </div>
            </div>

            <small
              *ngIf="
                AccionDeGrupo.get('cedula')?.invalid &&
                AccionDeGrupo.get('cedula')?.touched
              "
              class="text-danger"
            >
              La tarjeta profesional abogado es obligatoria
            </small>
          </div>
        </div>
      </div>
    </ng-container>

    <div class="d-flex align-items-start mt-5">
      <div
        class="rounded-circle bg-primary text-white p-1 mr-2 d-flex align-items-center justify-content-center"
        style="width: 25px; height: 25px"
      >
        <strong>4</strong>
      </div>
      <div class="form-group">
        <!-- Label: ¿A quién va dirigida esta acción de grupo? -->
        <label class="text-primary" for="destinatario">
          <strong>Datos de las acciones</strong>
        </label>
        <div id="destinatarioHelpBlock" class="form-text">
          Rellene cada una de las personas involucradas, recuerde, son minimo 20
          personas
        </div>
        <div
          id="destinatarioHelpBlock"
          class="form-text"
          style="font-size: 18px"
        >
          Para agregar mas campos use el botón de
          <strong class="text-primary"> + </strong> para eliminar use
          <strong class="text-danger"> - </strong>
        </div>
      </div>
    </div>

    <div class="form-group mt-2">
      <label for="hechos"> <strong>HECHOS </strong> - </label
      ><label class="text-primary"><strong>(requerido)</strong> </label>
      <!-- Icono de alerta y mensaje de ayuda -->

      <ng-container
        formArrayName="hechos"
        *ngFor="
          let row of hechos.controls;
          index as i;
          first as isFirst;
          last as isLast
        "
        class="input-group"
      >
        <ng-container *ngIf="isFirst" [formGroupName]="i">
          <div class="input-group">
            <textarea
              [class.is-invalid]="
                AccionDeGrupo.get('hechos')?.invalid &&
                AccionDeGrupo.get('hechos')?.touched &&
                isLast
              "
              rows="6"
              class="form-control"
              formControlName="contenido"
              id="hechos{{ i }}"
              placeholder="Descripción cronológica de los hechos, actos, acciones u omisiones que generaron el daño a los demandantes y que motivan la interposición de la acción de grupo"
              required
            ></textarea>

            <div class="d-flex flex-column">
              <div class="mb-2">
                <button
                  type="button"
                  class="btn btn-primary"
                  data-bs-toggle="tooltip"
                  data-bs-placement="top"
                  data-bs-custom-class="custom-tooltip"
                  data-bs-title="Descripción cronológica de los hechos, actos, acciones u omisiones que generaron el daño a los demandantes y que motivan la interposición de la acción de grupo."
                >
                  <i
                    class="fas fa-exclamation-circle text-white"
                    style="width: 25px; height: 25px"
                  ></i>
                </button>
              </div>
              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para agregar un nuevo campo -->
                <button
                  type="button"
                  class="btn btn-primary mt-2"
                  (click)="agregarHecho()"
                >
                  <i class="fas fa-plus"></i>
                </button>
              </div>
              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para eliminar un campo -->
                <button
                  type="button"
                  class="btn btn-danger mt-2"
                  (click)="eliminarHecho()"
                >
                  <i class="fas fa-minus"></i>
                </button>
              </div>
            </div>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('hechos')?.invalid &&
              AccionDeGrupo.get('hechos')?.touched &&
              isLast
            "
            class="text-danger"
          >
            Los hechos son obliogatorios
          </small>
        </ng-container>

        <ng-container *ngIf="!isFirst" [formGroupName]="i">
          <div class="input-group">
            <textarea
              [class.is-invalid]="
                AccionDeGrupo.get('hechos')?.invalid &&
                AccionDeGrupo.get('hechos')?.touched &&
                isLast
              "
              rows="6"
              class="form-control"
              formControlName="contenido"
              id="hechos{{ i }}"
              placeholder="Descripción cronológica de los hechos, actos, acciones u omisiones que generaron el daño a los demandantes y que motivan la interposición de la acción de grupo"
              required
            ></textarea>
            <div *ngIf="isLast" class="float-end ms-2">
              <!-- Botón para agregar un nuevo campo -->
              <button
                type="button"
                class="btn btn-primary mt-2"
                (click)="agregarHecho()"
              >
                <i class="fas fa-plus"></i>
              </button>
            </div>
            <div *ngIf="isLast" class="float-end ms-2">
              <!-- Botón para eliminar un campo -->
              <button
                type="button"
                class="btn btn-danger mt-2"
                (click)="eliminarHecho()"
              >
                <i class="fas fa-minus"></i>
              </button>
            </div>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('hechos')?.invalid &&
              AccionDeGrupo.get('hechos')?.touched &&
              isLast
            "
            class="text-danger"
          >
            Los hechos son obligatorios
          </small>
        </ng-container>
      </ng-container>
    </div>

    <div class="form-group mt-2">
      <label for="pretension"><strong>PRETENSIONES </strong> </label>
      <div
        id="destinatarioHelpBlock"
        class="form-text"
        style="font-size: 16px; color: black"
      >
        <strong>Primera pretensión:</strong> Condenar a la parte demandada
      </div>
      <div class="form-group mt-2">
        <label for="pretension"><strong>Valor </strong> - </label
        ><label class="text-primary"><strong>(requerido)</strong></label>
        <!-- Icono de alerta y mensaje de ayuda -->
        <div class="input-group">
          <input
            [class.is-invalid]="
              AccionDeGrupo.get('valorPretension')?.invalid &&
              AccionDeGrupo.get('valorPretension')?.touched
            "
            class="form-control"
            formControlName="valorPretension"
            id="valorPretension"
            placeholder="Valor pretension"
            required
          />
          <div>
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="Valor pretension."
            >
              <i
                class="fas fa-exclamation-circle text-white"
                style="width: 25px; height: 25px"
              ></i>
            </button>
          </div>
        </div>
        <small
          *ngIf="
            AccionDeGrupo.get('valorPretension')?.invalid &&
            AccionDeGrupo.get('valorPretension')?.touched
          "
          class="text-danger"
        >
          La pretension es obligatoria
        </small>
      </div>

      <div class="form-group mt-2">
        <label for="pretension_1"><strong>Causas pretensión</strong> -</label>
        <label class="text-primary"><strong> (requerido) </strong></label>
        <!-- Icono de alerta y mensaje de ayuda -->
      </div>
      <div class="input-group">
        <textarea
          [class.is-invalid]="
            AccionDeGrupo.get('pretension_1')?.invalid &&
            AccionDeGrupo.get('pretension_1')?.touched
          "
          rows="6"
          class="form-control"
          formControlName="pretension_1"
          id="pretension_1"
          placeholder="Causas presentandas en la pretensión."
          required
        ></textarea>
        <div>
          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-bs-custom-class="custom-tooltip"
            data-bs-title="Causas presentandas en la pretensión."
          >
            <i
              class="fas fa-exclamation-circle text-white"
              style="width: 25px; height: 25px"
            ></i>
          </button>
        </div>
      </div>
      <small
        *ngIf="
          AccionDeGrupo.get('pretension_1')?.invalid &&
          AccionDeGrupo.get('pretension_1')?.touched
        "
        class="text-danger"
      >
        La pretension es obligatoria
      </small>

      <div
        id="destinatarioHelpBlock"
        class="form-text"
        style="font-size: 16px; color: black"
      >
        <strong>Segunda pretensión:</strong> Señalar los requisitos que deben
        cumplir las personas que consideran haber sufrido un daño por los mismos
        hechos y que no intervinieron en el proceso de acción de grupo, para que
        se adhieran a los efectos de la sentencia y reclamar la indemnización
        correspondiente.
      </div>

      <div class="form-group mt-2">
        <label for="pretension_2"
          ><strong>Requisitos pretensión</strong> -</label
        >
        <label class="text-primary"><strong> (requerido) </strong></label>
        <!-- Icono de alerta y mensaje de ayuda -->
      </div>
      <div class="input-group">
        <textarea
          [class.is-invalid]="
            AccionDeGrupo.get('pretension_2')?.invalid &&
            AccionDeGrupo.get('pretension_2')?.touched
          "
          rows="6"
          class="form-control"
          formControlName="pretension_2"
          id="pretension_2"
          placeholder=" Señalar los requisitos que deben cumplir las personas que consideran haber sufrido un daño por los mismos hechos."
          required
        ></textarea>
        <div>
          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-bs-custom-class="custom-tooltip"
            data-bs-title=" Señalar los requisitos que deben cumplir las
            personas que consideran haber sufrido un daño por los mismos hechos."
          >
            <i
              class="fas fa-exclamation-circle text-white"
              style="width: 25px; height: 25px"
            ></i>
          </button>
        </div>
      </div>
      <small
        *ngIf="
          AccionDeGrupo.get('pretension_2')?.invalid &&
          AccionDeGrupo.get('pretension_2')?.touched
        "
        class="text-danger"
      >
        Los requisitos de la pretension son obligatorios.
      </small>
    </div>

    <div class="form-group mt-2">
      <label for="perjuicios"><strong>Perjuicios causados </strong> - </label
      ><label class="text-primary"><strong>(requerido)</strong></label>
      <div
        id="destinatarioHelpBlock"
        class="form-text"
        style="font-size: 16px; color: black"
      >
        Estimación en pesos del daño colectivo e individual por cada persona que
        demandó y de aquellos que eventualmente se adhieran a los efectos de la
        sentencia
      </div>

      <!-- Icono de alerta y mensaje de ayuda -->
      <div class="input-group">
        <textarea
          [class.is-invalid]="
            AccionDeGrupo.get('perjuicios')?.invalid &&
            AccionDeGrupo.get('perjuicios')?.touched
          "
          rows="6"
          class="form-control"
          formControlName="perjuicios"
          id="perjuicios"
          placeholder="Hacer el estimativo del valor en pesos de los daños ocasionados por la vulneración, explicitándolos y discriminándolos de la manera más amplia posible"
          required
        ></textarea>
        <div>
          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-bs-custom-class="custom-tooltip"
            data-bs-title="Hacer el estimativo del valor en pesos de los daños ocasionados por la vulneración, explicitándolos y discriminándolos de la manera más amplia posible."
          >
            <i
              class="fas fa-exclamation-circle text-white"
              style="width: 25px; height: 25px"
            ></i>
          </button>
        </div>
      </div>
      <small
        *ngIf="
          AccionDeGrupo.get('perjuicios')?.invalid &&
          AccionDeGrupo.get('perjuicios')?.touched
        "
        class="text-danger"
      >
        El perjuicio es obligatorio
      </small>
    </div>

    <div class="form-group mt-2">
      <label for="criterios"
        ><strong
          >Criterios para identificar a los integrantes del grupo
        </strong>
        - </label
      ><label class="text-primary"><strong>(requerido)</strong></label>

      <div
        id="destinatarioHelpBlock"
        class="form-text"
        style="font-size: 16px; color: black"
      >
        En este campo se debe:
        <br />
        1. Individualizar a los afectados, con nombre, documento de identidad y
        domicilio.
        <br />
        2. Informar al despacho sobre el número de personas que pueden llegar a
        adherirse a los efectos de la sentencia.
        <br />
        3. Señalar los criterios para su individualización, así como para que el
        juez tase las indemnizaciones individuales y la colectiva.
      </div>

      <!-- Icono de alerta y mensaje de ayuda -->
      <div class="input-group">
        <textarea
          [class.is-invalid]="
            AccionDeGrupo.get('criterios')?.invalid &&
            AccionDeGrupo.get('criterios')?.touched
          "
          rows="6"
          class="form-control"
          formControlName="criterios"
          id="criterios"
          placeholder="Señalar los criterios para su industrialización, así como para que el juez tase las indemnizaciones individuales y la colectiva"
          required
        ></textarea>
        <div>
          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-bs-custom-class="custom-tooltip"
            data-bs-title="Señalar los criterios para su industrialización, así como para que el juez tase las indemnizaciones individuales y la colectiva."
          >
            <i
              class="fas fa-exclamation-circle text-white"
              style="width: 25px; height: 25px"
            ></i>
          </button>
        </div>
      </div>
      <small
        *ngIf="
          AccionDeGrupo.get('criterios')?.invalid &&
          AccionDeGrupo.get('criterios')?.touched
        "
        class="text-danger"
      >
        Los criterios son obligatorios.
      </small>
    </div>

    <div class="form-group mt-2">
      <label for="idefAccionada"
        ><strong>Identificacion de la parte accionada</strong> - </label
      ><label class="text-primary"><strong>(requerido)</strong></label>
      <div
        id="destinatarioHelpBlock"
        class="form-text"
        style="font-size: 16px; color: black"
      >
        Relacionar las personas naturales, jurídicas o entidades demandadas,
        individualizándolas, esto es si se trata de una empresa, el nombre de
        esta, el del representante legal, el domicilio: si se trata de una
        entidad pública indicar si se trata de orden nacional, departamental o
        municipal, el domicilio, el representante legal, su identificación,
        domicilio.
      </div>

      <!-- Icono de alerta y mensaje de ayuda -->
      <div class="input-group">
        <textarea
          [class.is-invalid]="
            AccionDeGrupo.get('idefAccionada')?.invalid &&
            AccionDeGrupo.get('idefAccionada')?.touched
          "
          rows="6"
          class="form-control"
          formControlName="idefAccionada"
          id="idefAccionada"
          placeholder="Si se trata de una entidad pública indicar si es del orden nacional, departamental o municipal, el domicilio, el representante legal, su identificación"
          required
        ></textarea>
        <div>
          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-bs-custom-class="custom-tooltip"
            data-bs-title="Si se trata de una entidad pública indicar si es del orden nacional, departamental o municipal, el domicilio, el representante legal, su identificación."
          >
            <i
              class="fas fa-exclamation-circle text-white"
              style="width: 25px; height: 25px"
            ></i>
          </button>
        </div>
      </div>
      <small
        *ngIf="
          AccionDeGrupo.get('idefAccionada')?.invalid &&
          AccionDeGrupo.get('idefAccionada')?.touched
        "
        class="text-danger"
      >
        La identificacion de la parte accionada es obligatoria
      </small>
    </div>

    <div class="form-group mt-2">
      <label for="procedencia">
        <strong>Procedencia de la accion de grupo </strong> - </label
      ><label class="text-primary"><strong>(requerido)</strong> </label>
      <div
      id="destinatarioHelpBlock"
      class="form-text"
      style="font-size: 16px; color: black"
    >
      Describa los argumentos de hecho y de derecho que considere necesarios
      para que el juez acceda a las pretensiones de la demanda.

    </div>
      <!-- Icono de alerta y mensaje de ayuda -->

      <ng-container
        formArrayName="procedencia"
        *ngFor="
          let row of procedencia.controls;
          index as i;
          first as isFirst;
          last as isLast
        "
        class="input-group"
      >
        <ng-container *ngIf="isFirst" [formGroupName]="i">
          <div class="input-group">
            <textarea
              [class.is-invalid]="
                AccionDeGrupo.get('procedencia')?.invalid &&
                AccionDeGrupo.get('procedencia')?.touched &&
                isLast
              "
              rows="6"
              class="form-control"
              formControlName="contenido"
              id="procedencia{{ i }}"
              placeholder="Argumentos para que el juez acceda a las pretensiones de la demanda"
              required
            ></textarea>

            <div class="d-flex flex-column">
              <div class="mb-2">
                <button
                  type="button"
                  class="btn btn-primary"
                  data-bs-toggle="tooltip"
                  data-bs-placement="top"
                  data-bs-custom-class="custom-tooltip"
                  data-bs-title="Argumentos para que el juez acceda a las pretensiones de la demanda."
                >
                  <i
                    class="fas fa-exclamation-circle text-white"
                    style="width: 25px; height: 25px"
                  ></i>
                </button>
              </div>
              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para agregar un nuevo campo -->
                <button
                  type="button"
                  class="btn btn-primary mt-2"
                  (click)="agregarProcedencia()"
                >
                  <i class="fas fa-plus"></i>
                </button>
              </div>

              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para agregar un nuevo campo -->
                <button
                  type="button"
                  class="btn btn-danger mt-2"
                  (click)="eliminarProcedencia()"
                >
                  <i class="fas fa-minus"></i>
                </button>
              </div>
            </div>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('procedencia')?.invalid &&
              AccionDeGrupo.get('procedencia')?.touched &&
              isLast
            "
            class="text-danger"
          >
            La procedencia es obligatoria
          </small>
        </ng-container>

        <ng-container *ngIf="!isFirst" [formGroupName]="i">
          <div class="input-group">
            <textarea
              [class.is-invalid]="
                AccionDeGrupo.get('procedencia')?.invalid &&
                AccionDeGrupo.get('procedencia')?.touched &&
                isLast
              "
              rows="6"
              class="form-control"
              formControlName="contenido"
              id="procedencia{{ i }}"
              placeholder="Argumentos para que el juez acceda a las pretensiones de la demanda"
              required
            ></textarea>
            <div *ngIf="isLast" class="float-end ms-2">
              <!-- Botón para agregar un nuevo campo -->
              <button
                type="button"
                class="btn btn-primary mt-2"
                (click)="agregarProcedencia()"
              >
                <i class="fas fa-plus"></i>
              </button>
            </div>

            <div *ngIf="isLast" class="float-end ms-2">
              <!-- Botón para agregar un nuevo campo -->
              <button
                type="button"
                class="btn btn-danger mt-2"
                (click)="eliminarProcedencia()"
              >
                <i class="fas fa-minus"></i>
              </button>
            </div>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('procedencia')?.invalid &&
              AccionDeGrupo.get('procedencia')?.touched &&
              isLast
            "
            class="text-danger"
          >
            La procedencia son obligatorios
          </small>
        </ng-container>
      </ng-container>
    </div>

    <div class="form-group mt-2">
      <label for="caducidad"><strong>Fecha caducidad </strong> - </label
      ><label class="text-primary"><strong>(requerido)</strong></label>
      <div
      id="destinatarioHelpBlock"
      class="form-text"
      style="font-size: 16px; color: black"
    >
      La fecha que se escribe es la de los hechos que causaron el daño.
      </div>
      <!-- Icono de alerta y mensaje de ayuda -->
      <div class="input-group">
        <input
          [class.is-invalid]="
            AccionDeGrupo.get('caducidad')?.invalid &&
            AccionDeGrupo.get('caducidad')?.touched
          "
          type="date"
          class="form-control"
          formControlName="caducidad"
          id="caducidad"
          placeholder="Fecha de la caducidad"
          required
        />
        <div>
          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-bs-custom-class="custom-tooltip"
            data-bs-title="La fecha del hecho o de la ultima acción que produjo el daño"
          >
            <i
              class="fas fa-exclamation-circle text-white"
              style="width: 25px; height: 25px"
            ></i>
          </button>
        </div>
      </div>
      <small
        *ngIf="
          AccionDeGrupo.get('caducidad')?.invalid &&
          AccionDeGrupo.get('caducidad')?.touched
        "
        class="text-danger"
      >
        La fecha de caducidad es obligatoria
      </small>
    </div>

    <div class="d-flex align-items-start mt-5">
      <div
        class="rounded-circle bg-primary text-white p-1 mr-2 d-flex align-items-center justify-content-center"
        style="width: 25px; height: 25px"
      >
        <strong>5</strong>
      </div>
      <div class="form-group">
        <!-- Label: ¿A quién va dirigida esta acción de grupo? -->
        <label class="text-primary" for="destinatario">
          <strong>Pruebas</strong>
        </label>
        <div id="destinatarioHelpBlock" class="form-text">
          Enumerar una a una las pruebas que se aportan y las que se solicitan
          al Juez que decrete por no tenerlas en su poder
        </div>
      </div>
    </div>

    <div class="form-group mt-2">
      <label for="documentales">
        <strong>Documentales aportados</strong> - </label
      ><label class="text-primary"><strong>(requerido)</strong> </label>
      <!-- Icono de alerta y mensaje de ayuda -->

      <ng-container
        formArrayName="documentales"
        *ngFor="
          let row of documentales.controls;
          index as i;
          first as isFirst;
          last as isLast
        "
        class="input-group"
      >
        <ng-container *ngIf="isFirst" [formGroupName]="i">
          <div class="input-group">
            <textarea
              [class.is-invalid]="
                AccionDeGrupo.get('documentales')?.invalid &&
                AccionDeGrupo.get('documentales')?.touched &&
                isLast
              "
              rows="6"
              class="form-control"
              formControlName="contenido"
              id="documentales{{ i }}"
              placeholder="Documentales de la acción"
              required
            ></textarea>

            <div class="d-flex flex-column">
              <div class="mb-2">
                <button
                  type="button"
                  class="btn btn-primary"
                  data-bs-toggle="tooltip"
                  data-bs-placement="top"
                  data-bs-custom-class="custom-tooltip"
                  data-bs-title="Documentales de la acción."
                >
                  <i
                    class="fas fa-exclamation-circle text-white"
                    style="width: 25px; height: 25px"
                  ></i>
                </button>
              </div>
              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para agregar un nuevo campo -->
                <button
                  type="button"
                  class="btn btn-primary mt-2"
                  (click)="agregarDocumental()"
                >
                  <i class="fas fa-plus"></i>
                </button>
              </div>

              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para agregar un nuevo campo -->
                <button
                  type="button"
                  class="btn btn-danger mt-2"
                  (click)="eliminarDocumental()"
                >
                  <i class="fas fa-minus"></i>
                </button>
              </div>
            </div>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('documentales')?.invalid &&
              AccionDeGrupo.get('documentales')?.touched &&
              isLast
            "
            class="text-danger"
          >
            Los documentales son obligatorios
          </small>
        </ng-container>

        <ng-container *ngIf="!isFirst" [formGroupName]="i">
          <div class="input-group">
            <textarea
              [class.is-invalid]="
                AccionDeGrupo.get('documentales')?.invalid &&
                AccionDeGrupo.get('documentales')?.touched &&
                isLast
              "
              rows="6"
              class="form-control"
              formControlName="contenido"
              id="documentales{{ i }}"
              placeholder="Documentales de la acción"
              required
            ></textarea>
            <div *ngIf="isLast" class="float-end ms-2">
              <!-- Botón para agregar un nuevo campo -->
              <button
                type="button"
                class="btn btn-primary mt-2"
                (click)="agregarDocumental()"
              >
                <i class="fas fa-plus"></i>
              </button>
            </div>

            <div *ngIf="isLast" class="float-end ms-2">
              <!-- Botón para agregar un nuevo campo -->
              <button
                type="button"
                class="btn btn-danger mt-2"
                (click)="eliminarDocumental()"
              >
                <i class="fas fa-minus"></i>
              </button>
            </div>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('documentales')?.invalid &&
              AccionDeGrupo.get('documentales')?.touched &&
              isLast
            "
            class="text-danger"
          >
            Los documentales son obligatorios
          </small>
        </ng-container>
      </ng-container>
    </div>

    <div class="form-group mt-2">
      <label for="documentalesSOLI">
        <strong>Documentales Solicitados</strong> - </label
      ><label class="text-primary"><strong>(opcional)</strong> </label>
      <!-- Icono de alerta y mensaje de ayuda -->

      <ng-container
        formArrayName="documentalesSOLI"
        *ngFor="
          let row of documentalesSOLI.controls;
          index as i;
          first as isFirst;
          last as isLast
        "
        class="input-group"
      >
        <ng-container *ngIf="isFirst" [formGroupName]="i">
          <div class="input-group">
            <textarea
              
              rows="6"
              class="form-control"
              formControlName="contenido"
              id="documentalesSOLI{{ i }}"
              placeholder="Documentales solicitados"
              required
            ></textarea>

            <div class="d-flex flex-column">
              <div class="mb-2">
                <button
                  type="button"
                  class="btn btn-primary"
                  data-bs-toggle="tooltip"
                  data-bs-placement="top"
                  data-bs-custom-class="custom-tooltip"
                  data-bs-title="Documental asociado."
                >
                  <i
                    class="fas fa-exclamation-circle text-white"
                    style="width: 25px; height: 25px"
                  ></i>
                </button>
              </div>
              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para agregar un nuevo campo -->
                <button
                  type="button"
                  class="btn btn-primary mt-2"
                  (click)="agregarDocumentalSOLI()"
                >
                  <i class="fas fa-plus"></i>
                </button>
              </div>

              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para agregar un nuevo campo -->
                <button
                  type="button"
                  class="btn btn-danger mt-2"
                  (click)="eliminarDocumentalSOLI()"
                >
                  <i class="fas fa-minus"></i>
                </button>
              </div>
            </div>
          </div>
        </ng-container>

        <ng-container *ngIf="!isFirst" [formGroupName]="i">
          <div class="input-group">
            <textarea
              rows="6"
              class="form-control"
              formControlName="contenido"
              id="documentalesSOLI{{ i }}"
              placeholder="Documentales asociados"
              required
            ></textarea>
            <div *ngIf="isLast" class="float-end ms-2">
              <!-- Botón para agregar un nuevo campo -->
              <button
                type="button"
                class="btn btn-primary mt-2"
                (click)="agregarDocumentalSOLI()"
              >
                <i class="fas fa-plus"></i>
              </button>
            </div>

            <div *ngIf="isLast" class="float-end ms-2">
              <!-- Botón para agregar un nuevo campo -->
              <button
                type="button"
                class="btn btn-danger mt-2"
                (click)="eliminarDocumentalSOLI()"
              >
                <i class="fas fa-minus"></i>
              </button>
            </div>
          </div>
        </ng-container>
      </ng-container>
    </div>

    <div class="form-group mt-2">
      <label for="periciales"> <strong>Periciales o tecnicas</strong> - </label
      ><label class="text-primary"><strong>(opcional)</strong> </label>
      <!-- Icono de alerta y mensaje de ayuda -->

      <ng-container
        formArrayName="periciales"
        *ngFor="
          let row of periciales.controls;
          index as i;
          first as isFirst;
          last as isLast
        "
        class="input-group"
      >
        <ng-container *ngIf="isFirst" [formGroupName]="i">
          <div class="input-group">
            <textarea
              rows="6"
              class="form-control"
              formControlName="contenido"
              id="periciales{{ i }}"
              placeholder="Periciales solicitados"
              required
            ></textarea>

            <div class="d-flex flex-column">
              <div class="mb-2">
                <button
                  type="button"
                  class="btn btn-primary"
                  data-bs-toggle="tooltip"
                  data-bs-placement="top"
                  data-bs-custom-class="custom-tooltip"
                  data-bs-title="Pericial asociado."
                >
                  <i
                    class="fas fa-exclamation-circle text-white"
                    style="width: 25px; height: 25px"
                  ></i>
                </button>
              </div>
              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para agregar un nuevo campo -->
                <button
                  type="button"
                  class="btn btn-primary mt-2"
                  (click)="agregarPericial()"
                >
                  <i class="fas fa-plus"></i>
                </button>
              </div>

              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para eliminar un nuevo campo -->
                <button
                  type="button"
                  class="btn btn-danger mt-2"
                  (click)="eliminarPericial()"
                >
                  <i class="fas fa-minus"></i>
                </button>
              </div>
            </div>
          </div>
          
        </ng-container>

        <ng-container *ngIf="!isFirst" [formGroupName]="i">
          <div class="input-group">
            <textarea
              rows="6"
              class="form-control"
              formControlName="contenido"
              id="periciales{{ i }}"
              placeholder="Periciales asociados"
              required
            ></textarea>
            <div *ngIf="isLast" class="float-end ms-2">
              <!-- Botón para agregar un nuevo campo -->
              <button
                type="button"
                class="btn btn-primary mt-2"
                (click)="agregarPericial()"
              >
                <i class="fas fa-plus"></i>
              </button>
            </div>

            <div *ngIf="isLast" class="float-end ms-2">
              <!-- Botón para eliminar un nuevo campo -->
              <button
                type="button"
                class="btn btn-danger mt-2"
                (click)="eliminarPericial()"
              >
                <i class="fas fa-minus"></i>
              </button>
            </div>
          </div>
          
        </ng-container>
      </ng-container>
    </div>

    <div class="form-group mt-2">
      <label for="testimoniales"> <strong>Testimoniales</strong> - </label
      ><label class="text-primary"><strong>(opcional)</strong> </label>
      <!-- Icono de alerta y mensaje de ayuda -->

      <ng-container
        formArrayName="testimoniales"
        *ngFor="
          let row of testimoniales.controls;
          index as i;
          first as isFirst;
          last as isLast
        "
        class="input-group"
      >
        <ng-container *ngIf="isFirst" [formGroupName]="i">
          <div class="input-group">
            <textarea
              rows="6"
              class="form-control"
              formControlName="contenido"
              id="testimoniales{{ i }}"
              placeholder="Testimoniales solicitados"
              required
            ></textarea>

            <div class="d-flex flex-column">
              <div class="mb-2">
                <button
                  type="button"
                  class="btn btn-primary"
                  data-bs-toggle="tooltip"
                  data-bs-placement="top"
                  data-bs-custom-class="custom-tooltip"
                  data-bs-title="Testimonial asociado."
                >
                  <i
                    class="fas fa-exclamation-circle text-white"
                    style="width: 25px; height: 25px"
                  ></i>
                </button>
              </div>
              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para agregar un nuevo campo -->
                <button
                  type="button"
                  class="btn btn-primary mt-2"
                  (click)="agregarTestimonial()"
                >
                  <i class="fas fa-plus"></i>
                </button>
              </div>

              <div *ngIf="isLast" class="float-end ms-2">
                <!-- Botón para eliminar un nuevo campo -->
                <button
                  type="button"
                  class="btn btn-danger mt-2"
                  (click)="eliminarTestimonial()"
                >
                  <i class="fas fa-minus"></i>
                </button>
              </div>
            </div>
          </div>
        </ng-container>

        <ng-container *ngIf="!isFirst" [formGroupName]="i">
          <div class="input-group">
            <textarea
              
              rows="6"
              class="form-control"
              formControlName="contenido"
              id="testimoniales{{ i }}"
              placeholder="Testimoniales asociados"
              required
            ></textarea>
            <div *ngIf="isLast" class="float-end ms-2">
              <!-- Botón para agregar un nuevo campo -->
              <button
                type="button"
                class="btn btn-primary mt-2"
                (click)="agregarTestimonial()"
              >
                <i class="fas fa-plus"></i>
              </button>
            </div>
            <div *ngIf="isLast" class="float-end ms-2">
              <!-- Botón para eliminar un nuevo campo -->
              <button
                type="button"
                class="btn btn-danger mt-2"
                (click)="eliminarTestimonial()"
              >
                <i class="fas fa-minus"></i>
              </button>
            </div>
          </div>
        </ng-container>
      </ng-container>
    </div>

    <!-- Competencia-->
    <div class="form-group mt-2">
      <label for="competencia_1">
        <strong>Competencia</strong> - </label
      ><label class="text-primary"><strong>(requerido)</strong> </label>
      <div
      id="destinatarioHelpBlock"
      class="form-text"
      style="font-size: 16px; color: black"
      >
      Si el demandado es una persona natural o jurídica particular, la competencia la tiene el juez civil del circuito. 
        <br>
      Si el demandado es una autoridad o el daño lo causaron con particular, la competencia la tiene el juez administrativo del circuito.

      <select
            class="form-control"
            formControlName="competencia_1"
            id="competencia_1"
            required
          >
            <option value="" disabled selected>
              Seleccione una opción
            </option>
            <option value="Persona natural">Persona natural o juridica particular</option>
            <option value="Autoridad">Autoridad o el daño lo causaron con particular</option>
          </select>
          <small
            *ngIf="
              AccionDeGrupo.get('competencia_1')?.invalid &&
              AccionDeGrupo.get('competencia_1')?.touched
            "
            class="text-danger"
          >
            Por favor, seleccione una opción
          </small>
        </div>
      </div>
    





    <div class="d-flex align-items-start mt-5">
      <div
        class="rounded-circle bg-primary text-white p-1 mr-2 d-flex align-items-center justify-content-center"
        style="width: 25px; height: 25px"
      >
        <strong>6</strong>
      </div>
      <div class="form-group">
        <!-- Label: ¿A quién va dirigida esta acción de grupo? -->
        <label class="text-primary" for="destinatario">
          <strong>Notificaciones</strong>
        </label>
        <div id="destinatarioHelpBlock" class="form-text">
          Datos para las respectivas notificaciones
        </div>
      </div>
    </div>

    <div class="row">
      <!-- Input para la Ciudad -->
      <div class="col-md-6">
        <div class="form-group">
          <label for="domicilioDemandado"
            ><strong>Domicilio demandado</strong> -</label
          >
          <label class="text-primary"><strong>(requerido)</strong></label>
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              formControlName="domicilioDemandado"
              id="domicilioDemandado"
              placeholder="Ingresa el domicilio del demandado"
              [class.is-invalid]="
                AccionDeGrupo.get('domicilioDemandado')?.invalid &&
                AccionDeGrupo.get('domicilioDemandado')?.touched
              "
              required
            />
            <!-- Icono de alerta y mensaje de ayuda -->
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="Ingresa el domicilio del demandado."
            >
              <i
                class="fas fa-exclamation-circle text-white"
                style="width: 25px; height: 25px"
              ></i>
            </button>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('domicilioDemandado')?.invalid &&
              AccionDeGrupo.get('domicilioDemandado')?.touched
            "
            class="text-danger"
          >
            El domicilio es obligatorio
          </small>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label for="ciudadDemandado"><strong>Ciudad demandado</strong>-</label
          ><label class="text-primary"><strong>(requerido)</strong></label>
          <!-- Icono de alerta y mensaje de ayuda -->
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              formControlName="ciudadDemandado"
              id="ciudadDemandado"
              placeholder="Ciudad en la que reside el demandado"
              [class.is-invalid]="
                AccionDeGrupo.get('ciudadDemandado')?.invalid &&
                AccionDeGrupo.get('ciudadDemandado')?.touched
              "
            />
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="Ciudad en la que reside el demandado."
            >
              <i
                class="fas fa-exclamation-circle text-white"
                style="width: 25px; height: 25px"
              ></i>
            </button>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('ciudadDemandado')?.invalid &&
              AccionDeGrupo.get('ciudadDemandado')?.touched
            "
            class="text-danger"
          >
            La ciudad del demandado es obligatorio
          </small>
        </div>
      </div>
    </div>

    <div class="row">
      <!-- Input para la Ciudad -->
      <div class="col-md-6">
        <div class="form-group">
          <label for="domicilioDemandante"
            ><strong>Domicilio demandante</strong> -</label
          >
          <label class="text-primary"><strong>(requerido)</strong></label>
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              formControlName="domicilioDemandante"
              id="domicilioDemandante"
              placeholder="Ingresa el domicilio del demandante"
              [class.is-invalid]="
                AccionDeGrupo.get('domicilioDemandante')?.invalid &&
                AccionDeGrupo.get('domicilioDemandante')?.touched
              "
              required
            />
            <!-- Icono de alerta y mensaje de ayuda -->
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="Ingresa el domicilio del demandante."
            >
              <i
                class="fas fa-exclamation-circle text-white"
                style="width: 25px; height: 25px"
              ></i>
            </button>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('domicilioDemandante')?.invalid &&
              AccionDeGrupo.get('domicilioDemandante')?.touched
            "
            class="text-danger"
          >
            El domicilio es obligatorio
          </small>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label for="ciudadDemandante"
            ><strong>Ciudad demandante</strong>-</label
          ><label class="text-primary"><strong>(requerido)</strong></label>
          <!-- Icono de alerta y mensaje de ayuda -->
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              formControlName="ciudadDemandante"
              id="ciudadDemandante"
              placeholder="Ciudad en la que reside el demandante"
              [class.is-invalid]="
                AccionDeGrupo.get('ciudadDemandante')?.invalid &&
                AccionDeGrupo.get('ciudadDemandante')?.touched
              "
            />
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="Ciudad en la que reside el demandante."
            >
              <i
                class="fas fa-exclamation-circle text-white"
                style="width: 25px; height: 25px"
              ></i>
            </button>
          </div>
          <small
            *ngIf="
              AccionDeGrupo.get('ciudadDemandante')?.invalid &&
              AccionDeGrupo.get('ciudadDemandante')?.touched
            "
            class="text-danger"
          >
            La ciudad del demandante es obligatorio
          </small>
        </div>
      </div>
    </div>

    <div class="form-group mt-2">
      <label for="abogadoSuscrito"
        ><strong>Lugar subscripcion abogado </strong> - </label
      ><label class="text-primary"><strong>(requerido)</strong></label>
      <!-- Icono de alerta y mensaje de ayuda -->
      <div class="input-group">
        <input
          [class.is-invalid]="
            AccionDeGrupo.get('abogadoSuscrito')?.invalid &&
            AccionDeGrupo.get('abogadoSuscrito')?.touched
          "
          class="form-control"
          formControlName="abogadoSuscrito"
          id="abogadoSuscrito"
          placeholder="Donde esta suscrito el abogado"
          required
        />
        <div>
          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-bs-custom-class="custom-tooltip"
            data-bs-title="Donde esta suscrito el abogado."
          >
            <i
              class="fas fa-exclamation-circle text-white"
              style="width: 25px; height: 25px"
            ></i>
          </button>
        </div>
      </div>
      <small
        *ngIf="
          AccionDeGrupo.get('abogadoSuscrito')?.invalid &&
          AccionDeGrupo.get('abogadoSuscrito')?.touched
        "
        class="text-danger"
      >
        Lugar subscripcion abogado es obligatorio
      </small>
    </div>

    <!-- Botón de envío -->
    <div class="d-flex justify-content-center align-items-center mt-3 p-5">
      <button
        type="submit"
        class="btn btn-primary btn-icon"
        [disabled]="!AccionDeGrupo.valid"
      >
        <i class="fas fa-file-alt me-2"></i> Descargar documento
      </button>
    </div>
  </form>
</div>
